{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","Api/fetchApi.js","components/Loader/Loader.jsx","js/scrollPageDown.js","components/App/App.js","index.js"],"names":["module","exports","Searchbar","state","searchRequest","onChangeInput","e","setState","currentTarget","value","onSearchSubmit","event","preventDefault","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","ImageGalleryItem","setCurrentPicture","images","handleClick","dataset","largeimage","alt","map","item","src","webformatURL","tags","ImageGalleryItem__image","largeImageURL","shortid","generate","ImageGallery","Button","containerBtn__loadMore","GetImagesApi","q","page","axios","get","Load","color","height","width","timeout","loader","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","pictures","loading","largeImageSrc","getData","request","then","response","status","trim","length","data","hits","Error","message","catch","console","setSearchRequest","pageIncrement","toggleModal","setCurrentPictureSrc","undefined","prevProps","prevState","autoClose","newestOnTop","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.779b0df0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3SjdQ\",\"SearchForm\":\"Searchbar_SearchForm__2M7T6\",\"SearchForm__button\":\"Searchbar_SearchForm__button__37rkm\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__iz4zO\",\"SearchForm__input\":\"Searchbar_SearchForm__input__blLXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1zyqz\",\"Modal\":\"Modal_Modal__1SfVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__7ICtr\",\"containerBtn__loadMore\":\"Button_containerBtn__loadMore__2cOGn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1eae1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___8dzX\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2fGs9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__JjVju\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchRequest: '',\r\n  };\r\n\r\n  onChangeInput = e => {\r\n    this.setState({ searchRequest: e.currentTarget.value });\r\n  };\r\n\r\n  onSearchSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (!this.state.searchRequest) {\r\n      toast.error('Please, enter a name!');\r\n      // this.props.clearPage();\r\n      return;\r\n    }\r\n    this.setState({ searchRequest: '' });\r\n\r\n    this.props.onSubmit(this.state.searchRequest);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.onSearchSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChangeInput}\r\n            value={this.state.searchRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#root\");\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Modal };\r\n","import PropTypes from \"prop-types\";\nimport shortid from \"shortid\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ setCurrentPicture, images }) => {\n  const handleClick = (e) =>\n    setCurrentPicture(e.target.dataset.largeimage, e.target.alt);\n\n  return (\n    <>\n      {images.map((item) => {\n        return (\n          <li\n            onClick={handleClick}\n            className=\"ImageGalleryItem\"\n            key={shortid.generate()}\n          >\n            <img\n              src={item.webformatURL}\n              alt={item.tags}\n              className={s.ImageGalleryItem__image}\n              data-largeimage={item.largeImageURL}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  setCurrentPicture: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport { ImageGalleryItem };\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, setCurrentPicture }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>\r\n        <ImageGalleryItem\r\n          setCurrentPicture={setCurrentPicture}\r\n          images={images}\r\n        />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n  setCurrentPicture: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { ImageGallery };\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n    return (\r\n      <div className={s.containerBtn__loadMore}>\r\n            <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n      </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport { Button };","import axios from 'axios';\r\n\r\n\r\nfunction GetImagesApi(q, page = 1) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?key=23477910-25b98db95ade589aa6935604b&q=${q}&page=${page}&per_page=12&image_type=photo`,\r\n  );\r\n}\r\n\r\nexport { GetImagesApi };","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Load = () => {\r\n  return (\r\n    <Loader\r\n      type=\"MutatingDots\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={500}\r\n      className={s.loader}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Load };","export default function scrollPageDown() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}","import \"./App.css\";\nimport \"../../styles/styles.css\";\nimport React, { Component } from \"react\";\nimport { Searchbar } from \"../Searchbar/Searchbar.jsx\";\nimport { Modal } from \"../Modal/Modal.jsx\";\nimport { ImageGallery } from \"../ImageGallery/ImageGallery\";\nimport { Button } from \"../Button/Button.jsx\";\nimport { GetImagesApi } from \"../../Api/fetchApi\";\nimport { Load } from \"../Loader/Loader.jsx\";\nimport scrollPageDown from \"../../js/scrollPageDown\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    pictures: [],\n    searchRequest: \"\",\n    loading: false,\n    error: \"\",\n    page: 1,\n    largeImageSrc: \"\",\n    alt: \"\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.setState({ pictures: [] });\n    }\n  }\n  getData = (request, page) => {\n    GetImagesApi(request, page)\n      .then((response) => {\n        if (response.status === 200 && this.state.searchRequest.trim().length) {\n          this.setState({\n            pictures: [...this.state.pictures, ...response.data.hits],\n          });\n          if (this.state.pictures.length === 0) {\n            toast.error(\"Error request!\");\n          }\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || \"pictures not exist\");\n        }\n      })\n      .catch(function (error) {\n        console.error(\"error\", error);\n      })\n      .then(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  setSearchRequest = (request) => {\n    this.setState({ loading: true, searchRequest: request });\n    this.getData(request, this.state.page);\n  };\n  pageIncrement = () => {\n    this.setState({ page: this.state.page + 1, loading: true });\n    this.getData(this.state.searchRequest, this.state.page + 1);\n    scrollPageDown();\n    return;\n  };\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n  setCurrentPictureSrc = (largeImageSrc, alt) => {\n    this.setState({ showModal: !this.state.showModal });\n    if (largeImageSrc !== undefined) {\n      this.setState({ largeImageSrc, alt });\n    }\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={2000} newestOnTop={true} />\n        <Searchbar onSubmit={this.setSearchRequest} />\n        {this.state.pictures.length !== 0 && (\n          <ImageGallery\n            setCurrentPicture={this.setCurrentPictureSrc}\n            images={this.state.pictures}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.state.largeImageSrc} alt={this.state.alt} />\n          </Modal>\n        )}\n        {this.state.loading && <Load />}\n        {this.state.pictures.length > 0 && (\n          <div className={\"container\"}>\n            <Button onClick={this.pageIncrement} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}