{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Api/fetchApi.js","components/Loader/Loader.jsx","components/App/App.js","index.js"],"names":["module","exports","Searchbar","state","searchRequest","onChangeInput","e","setState","currentTarget","value","onSearchSubmit","event","preventDefault","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","ImageGalleryItem","toggle","images","map","item","src","webformatURL","alt","tags","ImageGalleryItem__image","largeImageURL","shortid","generate","ImageGallery","toggleModal","Button","containerBtn__loadMore","GetImagesApi","q","page","axios","get","Load","color","height","width","timeout","loader","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","pictures","loading","largeImageSrc","getData","request","then","response","status","trim","length","data","hits","Error","message","catch","console","setSearchRequest","pageIncrement","setCurrentPictureSrc","undefined","dataset","largeimage","prevProps","prevState","autoClose","newestOnTop","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b66c8369.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3SjdQ\",\"SearchForm\":\"Searchbar_SearchForm__2M7T6\",\"SearchForm__button\":\"Searchbar_SearchForm__button__37rkm\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__iz4zO\",\"SearchForm__input\":\"Searchbar_SearchForm__input__blLXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1zyqz\",\"Modal\":\"Modal_Modal__1SfVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__7ICtr\",\"containerBtn__loadMore\":\"Button_containerBtn__loadMore__2cOGn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1eae1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___8dzX\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2fGs9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__JjVju\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchRequest: '',\r\n  };\r\n\r\n  onChangeInput = e => {\r\n    this.setState({ searchRequest: e.currentTarget.value });\r\n  };\r\n\r\n  onSearchSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (!this.state.searchRequest) {\r\n      toast.error('Please, enter a name!');\r\n      // this.props.clearPage();\r\n      return;\r\n    }\r\n    this.setState({ searchRequest: '' });\r\n\r\n    this.props.onSubmit(this.state.searchRequest);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.onSearchSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChangeInput}\r\n            value={this.state.searchRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#root');\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Modal };","import PropTypes from 'prop-types';\r\nimport shortid from 'shortid';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ toggle, images }) => {\r\n  return (\r\n    <>\r\n      {images.map(item => {\r\n        return (\r\n          <li onClick={toggle} className=\"ImageGalleryItem\" key={shortid.generate()}>\r\n            <img\r\n              src={item.webformatURL}\r\n              alt={item.tags}\r\n              className={s.ImageGalleryItem__image}\r\n              data-largeimage={item.largeImageURL}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n};\r\n\r\nexport { ImageGalleryItem };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, toggleModal }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>\r\n        <ImageGalleryItem toggle={toggleModal} images={images} />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { ImageGallery };","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n    return (\r\n      <div className={s.containerBtn__loadMore}>\r\n            <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n      </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport { Button };","import axios from 'axios';\r\n\r\n\r\nfunction GetImagesApi(q, page = 1) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?key=23477910-25b98db95ade589aa6935604b&q=${q}&page=${page}&per_page=12&image_type=photo`,\r\n  );\r\n}\r\n\r\nexport { GetImagesApi };","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Load = () => {\r\n  return (\r\n    <Loader\r\n      type=\"MutatingDots\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={500}\r\n      className={s.loader}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Load };","import './App.css'\nimport React, { Component } from 'react';\nimport { Searchbar } from '../Searchbar/Searchbar.jsx';\nimport { Modal } from '../Modal/Modal.jsx';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport { Button } from '../Button/Button.jsx';\nimport { GetImagesApi } from '../Api/fetchApi';\nimport { Load } from '../Loader/Loader.jsx';\n\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\n\nfunction scrollPageDown() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    pictures: [],\n    searchRequest: '',\n    loading: false,\n    error: '',\n    page: 1,\n    largeImageSrc: '',\n    alt: '',\n  };\n\n  componentDidMount() {\n    this.getData(this.state.searchRequest, this.state.page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.setState({ pictures: [] });\n    }\n  }\n\n  getData = (request, page) => {\n    GetImagesApi(request, page)\n      .then(response => {\n        if (response.status === 200 && this.state.searchRequest.trim().length) {\n          this.setState({\n            pictures: [...this.state.pictures, ...response.data.hits],\n          });\n\n          if (this.state.pictures.length === 0) {\n            toast.error('Error request!');\n          }\n          scrollPageDown();\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || 'pictures not exist');\n        }\n      })\n      .catch(function (error) {\n        console.error('error', error);\n      })\n      .then(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  setSearchRequest = request => {\n    this.setState({ loading: true });\n    this.setState({ searchRequest: request });\n    this.getData(request, this.state.page);\n  };\n\n  pageIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n    this.getData(this.state.searchRequest, this.state.page + 1);\n    this.setState({ loading: true });\n\n    return;\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  setCurrentPictureSrc = e => {\n    this.setState({ showModal: !this.state.showModal });\n    if (e !== undefined) {\n      this.setState({ largeImageSrc: e.target.dataset.largeimage });\n      this.setState({ alt: e.target.alt });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={2000} newestOnTop={true} />\n\n        <Searchbar onSubmit={this.setSearchRequest} />\n\n        {this.state.pictures.length !== 0 && (\n          <ImageGallery\n            toggleModal={this.setCurrentPictureSrc}\n            images={this.state.pictures}\n          />\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div>\n              <img src={this.state.largeImageSrc} alt={this.state.alt} />\n            </div>\n          </Modal>\n        )}\n        {this.state.loading && <Load />}\n        {this.state.pictures.length > 0 && (\n          <div className={'container'}>\n            <Button onClick={this.pageIncrement} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}